<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Cálculo IMC em JS com Form</title>

  <link rel="stylesheet"  href="./bootstrap/css/bootstrap.css">
  <script src="./jquery-3.1.1.js"></script>
  <script src="./funcoes.js"></script>
  <script src="./form.js"></script>

  <script>
  function calcular() {
    var n1 = parseFloat(document.dados.n1.value);
    var n2 = parseFloat(document.dados.n2.value);
    if (document.dados.n1.value.length == 0 || isNaN(n1)) {
      //window.alert("Informe o primeiro numero corretamente!");
      document.getElementById("grupoN1").classList.add("has-error");
      document.getElementById("alertN1").style.display = "block";
      document.dados.n1.value = "";
      document.dados.n1.focus();
      return;
    }
    document.getElementById("grupoN1").classList.remove("has-error");
    document.getElementById("alertN1").style.display = "none";
    if (document.dados.n2.value.length == 0 || isNaN(n2)) {
      //window.alert("Informe o segundo numero corretamente!");
      document.getElementById("grupoN2").classList.add("has-error");
      document.getElementById("alertN2").style.display = "block";
      document.dados.n2.value = "";
      document.dados.n2.focus();
      return;
    }
    document.getElementById("grupoN2").classList.remove("has-error");
    document.getElementById("alertN2").style.display = "none";
    var res = parseFloat(n1) / (parseFloat(n2)*parseFloat(n2));
    document.dados.resultado.value = res;

  if(res <= 18.5){
    window.alert("O resultado do seu IMC é: " + res + "\nCuidado: Você está Subnutrido!!!\n"
     +"Seu peso ideal deve estar entre: "+ parseFloat(n2)*parseFloat(n2) * 18.6 +
      " e "+ parseFloat(n2)*parseFloat(n2) * 24.9);
    document.getElementById("resultado").innerHTML = res;


  }
  else if(res > 18.5 && res <= 24.9){
    window.alert("O resultado do seu IMC é: " + res + "\nVocê está com Peso Saudável!!! ");
    document.getElementById("resultado").innerHTML = res;
  }

  else if(res > 25 && res <= 29.9){
    window.alert("O resultado do seu IMC é: " + res + "\nVocê está com Sobrepeso!!!\n"
    +"Seu peso ideal deve estar entre: "+ parseFloat(n2)*parseFloat(n2) * 18.6 +
     " e "+ parseFloat(n2)*parseFloat(n2) * 24.9);
    document.getElementById("resultado").innerHTML = res;
  }

  else if(res > 30 && res <= 34.9){
    window.alert("O resultado do seu IMC é: " + res + "\nVocê está com Obesidade Grau 1!!!\n"
    +"Seu peso ideal deve estar entre: "+ parseFloat(n2)*parseFloat(n2) * 18.6 +
     " e "+ parseFloat(n2)*parseFloat(n2) * 24.9);
    document.getElementById("resultado").innerHTML = res;
  }

  else if(res > 35 && res <= 39.9){
    window.alert("O resultado do seu IMC é: " + res + "\nVocê está com Obesidade Grau 2!!!\n "
    +"Seu peso ideal deve estar entre: "+ parseFloat(n2)*parseFloat(n2) * 18.6 +
     " e "+ parseFloat(n2)*parseFloat(n2) * 24.9);
    document.getElementById("resultado").innerHTML = res;
  }

    else if(res > 40){
      window.alert("O resultado do seu IMC é: " + res + "\nVocê está com Obesidade Grau 3!!!\n"
      +"Seu peso ideal deve estar entre: "+ parseFloat(n2)*parseFloat(n2) * 18.6 +
       " e "+ parseFloat(n2)*parseFloat(n2) * 24.9);
      document.getElementById("resultado").innerHTML = res;
    }

 }
  </script>

</head>
<body>

  <div class="container">

    <div class="jumbotron text-center">
      <h1>Cálculo do IMC</h1>
    </div>

    <form name="dados">
<div class="row">
      <div id="grupoN1" class="form-group">
        <div class="col-md-4">
        <label for="n1">Digite o seu peso</label>
        <input type="text" name="n1" class="form-control" placeholder="ex.55">
        <div class="alert alert-danger" style="display: none" id="alertN1">
            Informe o primeiro número corretamente.
        </div>
        </div>
      </div>
  </div>
<div class="row">
      <div id="grupoN2" class="form-group">
        <div class="col-md-4">
        <label for="n2">Digite sua altura</label>
        <input type="text" name="n2" class="form-control" placeholder="ex. 1.65">
        <div class="alert alert-danger" style="display: none" id="alertN2">
            Informe o segundo número corretamente.
        </div>
        </div>
      </div>
</div>

<div class="row">
  <div class="col-md-4">
      <br><button type="button" class="btn btn-primary" onclick="calcular()">Calcular</button>

      <input type="reset" class="btn btn-primary" value="Limpar">
    </div>
</div>


<div class="row">
      <div class="form-group">
        <div class="col-md-4">
        <br><label for="resultado">O resultado do seu IMC é:</label>
        <input type="text" name="resultado" class="form-control" placeholder="" disabled="disabled">
      </div>
    </div>


    </form>
  </div>
</body>
</html>
